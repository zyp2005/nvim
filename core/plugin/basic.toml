# ------------------------------------------------------
# 基础插件
# ------------------------------------------------------

# 文本快速移动
[[plugins]]
repo = 'https://hub.fastgit.org/easymotion/vim-easymotion'
on_map = '<Plug>'
hook_add = '''
	nmap <space>ef <Plug>(easymotion-overwin-f)
	nmap <space>eF <Plug>(easymotion-overwin-f2)
	nmap <space>el <Plug>(easymotion-overwin-line)
'''
hook_source = 'source $NVIM_PATH/modules/basic/vim-easymotion.vim'

# 显示开始画面
[[plugins]]
repo = 'https://hub.fastgit.org/hardcoreplayers/dashboard-nvim.git'
hook_source = 'source $NVIM_PATH/modules/basic/dashboard-nvim.vim'

# 浮动终端
[[plugins]]
repo = 'https://hub.fastgit.org/voldikss/vim-floaterm'
on_cmd = 'FloatermNew'
on_map = '<leader>/'
hook_add = '''
	let  g:floaterm_keymap_new     =  '<M-f><M-o>'
	let g:floaterm_keymap_prev    =   '<M-f><M-p>'
	let  g:floaterm_keymap_next    =  '<M-f><M-n>'
	let  g:floaterm_keymap_kill    =  '<M-f><M-k>'
	let  g:floaterm_keymap_toggle  =  '<M-f><M-h>'
	nmap <M-f><M-o> :FloatermNew<cr>
	nmap <space>fl :CocList --auto-preview floaterm<CR>
	nmap  <space>fr :FloatermNew ranger<CR>
	nmap  <space>ff :FloatermNew fzf<CR>
	nmap  <space>fg :FloatermNew lazygit<CR>
'''
hook_source = ' source $NVIM_PATH/modules/basic/vim-floaterm.vim'


# 颜色主题
[[plugins]]
repo = 'https://hub.fastgit.org/sainnhe/gruvbox-material'
hook_source = 'source $NVIM_PATH/modules/basic/gruvbox-material.vim'
[[plugins]]
repo = 'https://hub.fastgit.org/rakr/vim-one'

# ALT+e 窗口移动
[[plugins]]
repo = 'https://hub.fastgit.org/t9md/vim-choosewin'
on_map = '<Plug>'
hook_add = 'nmap <m-e> <Plug>(choosewin)'

[[plugins]]
repo = 'https://hub.fastgit.org/kevinhwang91/nvim-bqf.git'
hook_source = 'source $NVIM_PATH/modules/basic/nvim-bqf.vim'
on_func = ['Coc_qf_diagnostic','Coc_qf_jump2loc']
on_ft = 'qf'
hook_add = '''
'''

# git支持
[[plugins]]
repo = 'https://hub.fastgit.org/tpope/vim-fugitive'
hook_add = 'nnoremap \g :Git '

[[plugins]]
repo = 'https://hub.fastgit.org/airblade/vim-gitgutter'

# 文本片段
[[plugins]]
repo = 'https://hub.fastgit.org/hrsh7th/vim-vsnip.git'

[[plugins]]
repo = 'https://hub.fastgit.org/rafamadriz/friendly-snippets.git'

# 书签
[[plugins]]
repo = 'https://hub.fastgit.org/MattesGroeger/vim-bookmarks.git'
on_map = '<Plug>Bookmark'
hook_add = 'source $NVIM_PATH/modules/basic/vim-bookmarks_add.vim'
hook_source = 'let g:bookmark_no_default_key_mappings = 1'

# 用sw使sudo保存
[[plugins]]
repo = 'https://hub.fastgit.org/lambdalisue/suda.vim'
on_event = 'FileChangedRO'
hook_add = 'source $NVIM_PATH/modules/basic/suda_add.vim'

#缩进
[[plugins]]
repo = 'https://hub.fastgit.org/Yggdroot/indentLine.git'
hook_add = '''
let g:indentLine_char_list = ['|', '¦', '┆', '┊']
let g:indentLine_fileType = ['c','cpp','vim']
'''

[[plugins]]
repo = 'https://hub.fastgit.org/kyazdani42/nvim-tree.lua.git'
hook_source = '''
let g:nvim_tree_ignore = [ '.git', 'node_modules', '.cache' ] "empty by default
let g:nvim_tree_auto_open = 1 "0 by default, opens the tree when typing `vim $DIR` or `vim`
let g:nvim_tree_auto_close = 1 "0 by default, closes the tree when it's the last window
let g:nvim_tree_auto_ignore_ft = [ 'startify', 'dashboard' ] "empty by default, don't auto open tree on specific filetypes.
let g:nvim_tree_follow = 1 "0 by default, this option allows the cursor to be updated when entering a buffer
let g:nvim_tree_indent_markers = 1 "0 by default, this option shows indent markers when folders are open
let g:nvim_tree_git_hl = 1 "0 by default, will enable file highlight for git attributes (can be used without the icons).
let g:nvim_tree_root_folder_modifier = ':~' "This is the default. See :help filename-modifiers for more options
let g:nvim_tree_tab_open = 1 "0 by default, will open the tree when entering a new tab and the tree was previously open
let g:nvim_tree_add_trailing = 1 "0 by default, append a trailing slash to folder names
let g:nvim_tree_group_empty = 1 " 0 by default, compact folders that only contain a single folder into one node in the file tree
let g:nvim_tree_lsp_diagnostics = 1 "0 by default, will show lsp diagnostics in the signcolumn. See :help nvim_tree_lsp_diagnostics
let g:nvim_tree_quit_on_open = 1
let g:nvim_tree_special_files = [ 'README.md', 'Makefile', 'MAKEFILE' ] " List of filenames that gets highlighted with NvimTreeSpecialFile
let g:nvim_tree_show_icons = {
    \ 'git': 1,
    \ 'folders': 0,
    \ 'files': 0,
    \ }
    let g:nvim_tree_icons = {
        \ 'git' : {
            \ 'unstaged': "~",
            \ 'staged' : "M",
            \ 'unmerged' : "",
            \ 'renamed' : "→",
            \ 'untracked': "?",
            \ 'deleted': "×",
            \ 'ignored': "!",
            \},
        \ 'lsp' : {
            \ 'hint' : "H",
            \ 'info' : "I",
            \ 'warning' : "W",
            \ 'error' : "E",
            \}
        \}
"If 0, do not show the icons for one of 'git' 'folder' and 'files'
"1 by default, notice that if 'files' is 1, it will only display
"if nvim-web-devicons is installed and on your runtimepath

" default will show icon by default if no icon is provided
" default shows no icon by default
nnoremap tt :NvimTreeToggle<CR>
lua << EOF
	local tree_cb = require'nvim-tree.config'.nvim_tree_callback
	vim.g.nvim_tree_bindings = {
	  ["<CR>"] = ":YourVimFunction()<cr>",
	  ["u"] = ":lua require'some_module'.some_function()<cr>",

	  -- default mappings
	  ["<CR>"]           = tree_cb("edit"),
	  ["o"]              = tree_cb("edit"),
	  ["<2-LeftMouse>"]  = tree_cb("edit"),
	  ["<2-RightMouse>"] = tree_cb("cd"),
	  ["<C-]>"]          = tree_cb("cd"),
	  ["<C-v>"]          = tree_cb("vsplit"),
	  ["<C-x>"]          = tree_cb("split"),
	  ["<C-t>"]          = tree_cb("tabnew"),
	  ["<"]              = tree_cb("prev_sibling"),
	  [">"]              = tree_cb("next_sibling"),
	  ["P"]              = tree_cb("parent_node"),
	  ["<BS>"]           = tree_cb("close_node"),
	  ["<S-CR>"]         = tree_cb("close_node"),
	  ["<Tab>"]          = tree_cb("preview"),
	  ["K"]              = tree_cb("first_sibling"),
	  ["J"]              = tree_cb("last_sibling"),
	  ["I"]              = tree_cb("toggle_ignored"),
	  ["H"]              = tree_cb("toggle_dotfiles"),
	  ["R"]              = tree_cb("refresh"),
	  ["a"]              = tree_cb("create"),
	  ["d"]              = tree_cb("remove"),
	  ["r"]              = tree_cb("rename"),
	  ["<C-r>"]          = tree_cb("full_rename"),
	  ["x"]              = tree_cb("cut"),
	  ["c"]              = tree_cb("copy"),
	  ["p"]              = tree_cb("paste"),
	  ["<space>-"]             = tree_cb("prev_git_item"),
	  ["<space>="]             = tree_cb("next_git_item"),
	  ["-"]              = tree_cb("dir_up"),
	  ["q"]              = tree_cb("close"),
	}
EOF
'''

[[plugins]]
repo = 'https://hub.fastgit.org/kyazdani42/nvim-web-devicons'
