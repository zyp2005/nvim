# ------------------------------------------------------
# 状态栏
# ------------------------------------------------------


[[plugins]]
repo = 'https://hub.fastgit.org/ojroques/nvim-hardline.git'
on_event = 'VimEnter'
hook_post_source = '''
lua << EOF
require('hardline').setup {
  bufferline = false,  -- enable bufferline
  theme = 'default',   -- change theme
  sections = {         -- define sections
    {class = 'mode', item = require('hardline.parts.mode').get_item},
    {class = 'high', item = require('hardline.parts.git').get_item, hide = 80},
    '%<',
    {class = 'med', item = require('hardline.parts.filename').get_item},
    {class = 'med', item ='%='},
    {class = 'low', item = require('hardline.parts.wordcount').get_item, hide = 80},
    {class = 'error', item = require('hardline.parts.lsp').get_error},
    {class = 'warning', item = require('hardline.parts.lsp').get_warning},
    {class = 'warning', item = require('hardline.parts.whitespace').get_item},
    {class = 'high', item = require('hardline.parts.filetype').get_item, hide = 80},
    {class = 'mode', item = require('hardline.parts.line').get_item},
  },
  bufferline_settings = {
    exclude_terminal = false,  -- don't show terminal buffers in bufferline
    show_index = false,        -- show buffer indexes (not the actual buffer numbers) in bufferline
  },
}
EOF
'''


[[plugins]]
repo = 'https://hub.fastgit.org/romgrk/barbar.nvim.git'
hook_source = '''
" Move to previous/next
nnoremap <silent>    <M-[> :BufferPrevious<CR>
nnoremap <silent>    <M-]> :BufferNext<CR>
" Goto buffer in position...
nnoremap <silent>    <space>1 :BufferGoto 1<CR>
nnoremap <silent>    <space>2 :BufferGoto 2<CR>
nnoremap <silent>    <space>3 :BufferGoto 3<CR>
nnoremap <silent>    <space>4 :BufferGoto 4<CR>
nnoremap <silent>    <space>5 :BufferGoto 5<CR>
nnoremap <silent>    <space>6 :BufferGoto 6<CR>
nnoremap <silent>    <space>7 :BufferGoto 7<CR>
nnoremap <silent>    <space>8 :BufferGoto 8<CR>
nnoremap <silent>    <space>9 :BufferGoto 9<CR>
nnoremap <silent>    <space>0 :BufferLast<CR>
" Close buffer
nnoremap <silent>    <spacee>wc :BufferClose<CR>
" Magic buffer-picking mode
nnoremap <silent> <space>wp    :BufferPick<CR>
" Sort automatically by...
noremap <silent> <Space>wd :BufferOrderByDirectory<CR>
nnoremap <silent> <Space>wl :BufferOrderByLanguage<CR>


lua << EOF
  local tree = {}
   tree.open = function ()
      require'bufferline.state'.set_offset(31)
      require'nvim-tree'.find_file(true)
   end

   tree.close = function ()
      require'bufferline.state'.set_offset(0)
      require'nvim-tree'.close()
   end

   return tree
EOF

'''
